import { Callout, Tabs } from "nextra/components";

# Getting Started

Install the SDK and initialize it in your app.

## Installation

<Tabs items={["npm", "yarn", "pnpm"]}>
  <Tabs.Tab>```bash npm install @omni-analytics/sdk ```</Tabs.Tab>
  <Tabs.Tab>```bash yarn add @omni-analytics/sdk ```</Tabs.Tab>
  <Tabs.Tab>```bash pnpm add @omni-analytics/sdk ```</Tabs.Tab>
</Tabs>

## Basic setup

Call `initializeSDK()` once, as early as possible in your app.

```ts
import { initializeSDK } from "@omni-analytics/sdk";

initializeSDK({
  projectId: "your-project-id",
  endpoint: "https://omnioptimize-vdvv.onrender.com/ingest",
  writeKey: "omni-public-write-key-here", // Required — get from dashboard
  replay: {
    enabled: true, //enables session replay
  },
});
```
- session replays are not by default so enable if if needed.

That's it. The SDK will now track page views, clicks, and sessions automatically.

<Callout type="info">
  The `writeKey` authenticates your events. Get it from your project settings.
</Callout>

## Disable tracking in development

You probably don't want to track local development activity. Disable it:

```ts
initializeSDK({
  projectId: "your-project-id",
  endpoint: "https://omnioptimize-vdvv.onrender.com/ingest",
  writeKey: "omni-public-write-key-here",
  enabled: process.env.NODE_ENV === "production", // Only track in production
});
```

When `enabled: false`, the SDK stops all tracking—no clicks, no page views, no recordings.

## Next.js (App Router)

Initialize in your root layout:

```ts
// app/layout.tsx
import { initializeSDK } from "@omni-analytics/sdk";

initializeSDK({
  projectId: "your-project-id",
  endpoint: "https://omnioptimize-vdvv.onrender.com/ingest",
  writeKey: "omni-public-write-key-here",
  enabled: process.env.NODE_ENV === "production",
});

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body>{children}</body>
    </html>
  );
}
```

## React SPA

Initialize at your app entry point:

```ts
// main.tsx
import React from "react";
import ReactDOM from "react-dom/client";
import { initializeSDK } from "@omni-analytics/sdk";
import App from "./App";

initializeSDK({
  projectId: "your-project-id",
  endpoint: "https://omnioptimize-vdvv.onrender.com/ingest",
  writeKey: "omni-public-write-key-here",
});

ReactDOM.createRoot(document.getElementById("root")!).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

## Configuration options

| Parameter        | Type      | Required | Default | Description                                           |
| ---------------- | --------- | -------- | ------- | ----------------------------------------------------- |
| `projectId`      | `string`  | Yes      | —       | Your project ID (from dashboard)                      |
| `endpoint`       | `string`  | Yes      | —       | Event ingestion endpoint                              |
| `writeKey`       | `string`  | Yes      | —       | Authentication key (from dashboard)                   |
| `enabled`        | `boolean` | No       | `true`  | Enable or disable tracking                            |
| `batchSize`      | `number`  | No       | `30`    | Number of events to batch before sending              |
| `batchTimeout`   | `number`  | No       | `2000`  | Milliseconds to wait before flushing incomplete batch |
| `replay.enabled` | `boolean` | No       | `true`  | Enable session replay recordings                      |

## Verify it's working

<Callout type="info">
  After initialization, check your browser's network tab. You should see
  requests to your `endpoint` with batched events.
</Callout>

If events aren't appearing:

- Double-check your `projectId`, `endpoint`, and `writeKey`
- Make sure `enabled` isn't set to `false`
- Check the browser console for errors
- Disable any ad blockers that might block analytics requests
